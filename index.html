<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upstate Sound & Repair – Boutique audio service in Greenville, SC</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">

  <style>
    /* Page background (gutters) */
    body {
      margin:0;
      font-family: 'Space Grotesk', sans-serif;
      background: url("assets/background.png") center/cover no-repeat fixed;
      color:#111;
    }

    /* Morph wave layer */
    .morph-wrap{
      position:fixed;
      left:50vw; top:50vh;
      transform:translate(-50%,-50%);
      width:min(1100px,92vw); height:60vh;
      display:grid; place-items:center;
      z-index:0;                  /* behind content column */
      pointer-events:none;
      opacity:.6;
      mix-blend-mode:screen;
    }
    .morph-wrap svg{ width:100%; height:100%; }

    /* Black content column */
    .content-frame{
      position:relative;
      max-width:1100px;
      margin:0 auto;
      background:#0a0a0a;
      min-height:100dvh;
      z-index:1;
      overflow:clip;
      padding:2rem;
      box-sizing:border-box;
    }

    /* Sections layered above morph + black background */
    .section{
      position:relative;
      z-index:2;
      margin-bottom:3rem;
    }

    /* Hero */
    #hero{ text-align:center; padding:4rem 2rem; }
    #hero h1{ font-size:2.5rem; margin-top:1rem; color:#111; }
    .hero-overlay{
      position:absolute; inset:0;
      background:linear-gradient(
        180deg,
        rgba(10,10,10,0) 0%,
        rgba(10,10,10,.05) 55%,
        rgba(10,10,10,.60) 100%
      );
      pointer-events:none;
    }

    /* About panel */
    .paper{
      background:#f4f2eb;
      color:#111;
      border-radius:12px;
      padding:24px clamp(16px, 2vw, 28px);
      box-shadow:0 10px 28px rgba(0,0,0,.18);
    }
    .paper h2{ color:#111; }
    .paper p{ color:#222; }

    /* Services grid */
    .services-grid{
      display:grid;
      gap:1.5rem;
      grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    }
    .service-card{
      background:#111;
      padding:1.5rem;
      border-radius:12px;
      box-shadow:0 6px 14px rgba(0,0,0,.25);
      color:#eee;
    }
    .service-card h3{ margin-top:0; color:#fff; }

    /* Footer */
    .footer{
      text-align:center;
      padding:2rem;
      color:#aaa;
      font-size:.9rem;
    }
  </style>
</head>
<body>

  <!-- Morph wave -->
  <div class="morph-wrap" aria-hidden="true">
    <div id="morph-svg"></div>
  </div>

  <!-- Content column -->
  <div class="content-frame">
    <!-- Header / Hero -->
    <header id="hero" class="section">
      <div class="hero-overlay"></div>
      <img src="assets/logo.svg" alt="Upstate Sound &amp; Repair logo" class="logo" width="250" height="250" />
      <h1>Where Sound Meets Vision.</h1>
    </header>

    <!-- About -->
    <section id="about" class="section paper">
      <h2>About</h2>
      <p>Hey, I’m Donald—a lifelong chaser of tone and tinkerer of broken gear...</p>
      <p>Upstate Sound &amp; Repair is my way of keeping our little corner...</p>
    </section>

    <!-- Services -->
    <section id="services" class="section">
      <h2>Services</h2>
      <div class="services-grid">
        <div class="service-card">
          <h3>Studio &amp; Gear Repair</h3>
          <p>Your studio is only as good as its weakest link...</p>
        </div>
        <div class="service-card">
          <h3>Synth &amp; Audio Gear Repair</h3>
          <p>Analog synths are living, breathing beasts...</p>
        </div>
        <div class="service-card">
          <h3>Music Production</h3>
          <p>I partner with bands and solo artists...</p>
        </div>
        <div class="service-card">
          <h3>Podcast Production</h3>
          <p>Have a story to tell? I provide recording, editing and mixing...</p>
        </div>
        <div class="service-card">
          <h3>Live Sound Engineering</h3>
          <p>From tiny clubs to weird warehouse gatherings...</p>
        </div>
      </div>
    </section>

    <!-- Past Work -->
    <section id="work" class="section">
      <h2>Past Work</h2>
      <ul>
        <li><strong>Artis-Naples:</strong> engineered recordings...</li>
        <li><strong>Swansons Studios:</strong> mix consultant...</li>
        <li><strong>10-Song LP:</strong> producing, recording...</li>
        <li><strong>Trailside Carolina:</strong> podcast production...</li>
        <li><strong>Gear Repairs:</strong> DX7, JP-3000, Fender Twin, etc...</li>
      </ul>
    </section>

    <!-- Contact -->
    <section id="contact" class="section paper">
      <h2>Contact</h2>
      <p>Email me at <a href="mailto:info@upstatesound.co">info@upstatesound.co</a>.</p>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>© <span id="year"></span> Upstate Sound &amp; Repair. Made with solder and soul.</p>
    </footer>
  </div>

  <!-- Morph Script -->
  <script>
  (function initMorph(){
    var docEl = document.documentElement, body = document.body;
    var host = document.getElementById('morph-svg');
    if(!host) return;

    var SAMPLES = 140;
    var STROKE_MIN = 6, STROKE_MAX = 10;

    function toPathD(points){
      if(!points.length) return '';
      var d = 'M' + points[0].x + ',' + points[0].y;
      for(var i=1;i<points.length;i++) d += ' L' + points[i].x + ',' + points[i].y;
      return d;
    }
    function samplePath(pathEl, n){
      var len = pathEl.getTotalLength();
      var pts = new Array(n);
      for(var i=0;i<n;i++){
        var p = pathEl.getPointAtLength((i/(n-1))*len);
        pts[i] = { x:+p.x.toFixed(2), y:+p.y.toFixed(2) };
      }
      return pts;
    }
    function blendPoints(a,b,t){
      var out = new Array(a.length);
      for(var i=0;i<a.length;i++){
        out[i] = { x: a[i].x + (b[i].x-a[i].x)*t, y: a[i].y + (b[i].y-a[i].y)*t };
      }
      return out;
    }
    function pageT(){
      var sc = docEl.scrollTop || body.scrollTop;
      var max = (docEl.scrollHeight - docEl.clientHeight) || 1;
      return Math.max(0, Math.min(1, sc/max));
    }
    function lerp(a,b,t){ return a + (b-a)*t; }

    function boot(svg){
      var wanted = ['#p1','#p2','#p3','#p4','#p5']
        .map(function(id){ return svg.querySelector(id); })
        .filter(Boolean);
      if(wanted.length < 2){
        var all = Array.prototype.slice.call(svg.querySelectorAll('path'));
        wanted = all.slice(0, Math.max(2, Math.min(5, all.length)));
      }
      if(wanted.length < 2){
        var fb = document.createElementNS('http://www.w3.org/2000/svg','path');
        fb.setAttribute('fill','none');
        fb.setAttribute('stroke','#7dd3fc');
        fb.setAttribute('stroke-width','8');
        fb.setAttribute('d','M20,150 C160,80 260,220 400,150 S680,220 820,150');
        svg.appendChild(fb);
        return;
      }

      var clouds = wanted.map(function(p){ return samplePath(p, SAMPLES); });
      wanted.forEach(function(p){ p.style.opacity = 0; p.style.pointerEvents = 'none'; });

      var blend = document.createElementNS('http://www.w3.org/2000/svg','path');
      blend.setAttribute('fill','none');
      blend.setAttribute('stroke','url(#grad)');
      blend.setAttribute('stroke-linecap','round');
      blend.setAttribute('stroke-linejoin','round');
      blend.setAttribute('stroke-width', STROKE_MIN);
      svg.appendChild(blend);
      if(!svg.querySelector('#grad')) blend.setAttribute('stroke','#7dd3fc');

      (function animate(){
        var t = pageT();
        var seg = t * (clouds.length - 1);
        var i = Math.floor(seg);
        var f = seg - i;
        var a = clouds[i];
        var b = clouds[Math.min(i+1, clouds.length-1)];
        var mix = blendPoints(a,b,f);
        blend.setAttribute('d', toPathD(mix));
        blend.setAttribute('stroke-width', lerp(STROKE_MIN, STROKE_MAX, Math.sin(t*Math.PI)));
        requestAnimationFrame(animate);
      })();
    }

    fetch('assets/scroll-scrub.svg')
      .then(function(r){ return r.text(); })
      .then(function(txt){
        host.innerHTML = txt;
        var svg = host.querySelector('svg') || host.firstElementChild;
        if(svg) boot(svg);
      })
      .catch(function(err){ console.warn('morph svg load failed', err); });
  })();
  </script>

  <!-- Footer year -->
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
